TODO:
- Clean up the code
- Write documentation
